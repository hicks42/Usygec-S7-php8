{% extends 'raw.html.twig' %}

{% block title %}Merci pour votre retour
{% endblock %}

{% block content %}
	<div class="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4">
		<div class="max-w-2xl w-full">
			{# Card de succès #}
			<div class="bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center">
				{# Icône de succès animée #}
				<div class="mb-6">
					<div class="mx-auto w-24 h-24 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg animate-bounce">
						<svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
						</svg>
					</div>
				</div>

				{# Titre #}
				<h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
					Merci pour votre retour !
				</h1>

				{# Message #}
				<div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 mb-6">
					<p class="text-gray-700 text-lg leading-relaxed">
						Nous tenons à vous remercier de votre retour et vous assurons qu'il sera pris en compte afin d'améliorer nos services.
					</p>
					<p class="text-gray-600 mt-4">
						Toute notre équipe vous souhaite une excellente journée.
					</p>
				</div>

				{# Compteur de fermeture #}
				<div class="mb-6">
					<p class="text-gray-500 text-sm">
						Cette fenêtre se fermera automatiquement dans <strong id="countdown" class="text-blue-600">5</strong> secondes...
					</p>
				</div>

				{# Bouton de fermeture manuelle #}
				<button onclick="window.close()" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-xl transition-all transform hover:scale-105 shadow-lg">
					Fermer maintenant
				</button>
			</div>
		</div>
	</div>

	<script>
		// Compte à rebours et fermeture automatique
		let seconds = 5;
		const countdownElement = document.getElementById('countdown');

		const interval = setInterval(function() {
			seconds--;
			if (countdownElement) {
				countdownElement.textContent = seconds;
			}

			if (seconds <= 0) {
				clearInterval(interval);
				window.close();

				// Si window.close() ne fonctionne pas (fenêtre non ouverte par JS), rediriger
				setTimeout(function() {
					window.location.href = 'https://www.google.com';
				}, 500);
			}
		}, 1000);
	</script>
{% endblock %}
